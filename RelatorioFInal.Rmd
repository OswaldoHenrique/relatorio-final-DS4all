---
title: "Relatório final"
author: "Luiza, Oswaldo e Pedro"
date: "07/07/2018"
output:
  pdf_document: default
  html_notebook: default
---


# Introdução e contextualização
## Ciências Médicas
### História

O curso de Medicina da UnB foi criado em 1966, então parte da Faculdade de Ciências Médicas. Com a
criação de outros cursos na área da saúde, criou-se a Faculdade de Ciências da Saúde, englobando todos os
cursos de saúde, e a Faculdade de Ciências Médicas deixou de existir. Na década de 90, porém, por um desejo
de maior autonomia dos professores, servidores e alunos, passou-se a se discutir a criação da Faculdade de
Medicina (FM), que acabou sendo criada em 1999.

Já existiam cursos de pós-graduação ligados à Medicina sob a Faculdade de Ciências da Saúde, os de Medicina
Tropical, Patologia Molecular e Clínica Médica, ainda assim, faltava um curso, de mestrado e doutorado,
que pudesse atender à todos docentes e alunos da FM. Assim, a Faculdade de Medicina começou a propor a
criação de um novo curso.

Esse curso deveria ser abrangente, com linhas de pesquisa que acolhessem os professores de todas as áreas
da FM e que pudesse ser atendido tanto por alunos da FM quanto por alunos de outras áreas, valorizando
o trabalho multidisciplinar. Além disso, o curso deveria atender ao requisitos mínimos para a criação de um
curso de mestrado e doutorado pela CAPES.

Assim, em 2002, foi criado o Curso de Pós-graduação em Ciências Médicas, com níveis de Mestrado e
Doutorado, de acordo com as propostas apresentadas. Após um primeiro semestre no qual foram só feitos
ajustes operacionais e um processo seletivo, o curso passou a receber alunos no segundo semestre de 2002.
Desde então o curso tem crescido significativamente, se tornando um polo de formação de mestres e doutores
no Distrito Federal e na região Centro-Oeste.

### Informações

O Programa de Pós-Graduação em Ciências Médicas da UnB é parte da
Faculdade de Medicina da UnB e oferece cursos de mestrado e doutorado. O
Curso de Mestrado possui duração mínima de dois e duração máxima de
quatro semestres letivos, enquanto o Curso de Doutorado possui duração
mínima de quatro e duração máxima de oito semestres letivos.

O curso possui dois objetivos principais produzir conhecimento novo
mediante pesquisa científica de qualidade e socialmente relevante e
capacitar recursos humanos competentes para a prática docente. Além
disso, o curso é dividido em duas áreas de concentração: Medicina e
Ciências Aplicadas a Saúde. Assim o progama atende tanto profissionais
médicos quanto não-médicos de áreas com as quais é possível estabelecer
uma relação com a atividade médica.

O programa segue sete linhas de pesquisas, sendo elas: 

* Aspectos Clínicos, Epidemiológicos, Experimentais, Microbiológicos, Patológicos, Terapêuticos e Pro-
filáticos das Doenças Crônico-Degenerativas

* Aspectos Clínicos, Epidemiológicos, Experimentais, Microbiológicos, Patológicos, Terapêuticos e Pro-
filáticos das Doenças Infecciosas

* Distúrbios do Metabolismo

* Estudo de plantas, fitoativos e fármacos

* Instrumentação médica e processamentos de sinais biomédicos

* Métodos Epidemiológicos nas Ciências Médicas

* Oncologia e Biologia Molecular Aplicadas à Medicina

Ainda, o programa conta com laborátorios próprios, além de laboratórios mantidos pelos docentes e pesquisadores na Faculdade de Medicina, todos muito bem equipados.

Entre os laboratórios próprios temos laboratórios de Cirurgia
Experimental, de Pesquisa em Doença de Chagas, de Genética Médica, de
Imunologia Celular, de Pesquisas em Pediatria, de Genética Animal, de
Biologia Molecular, de Patologia Clínica, de Antatomia Patológica, de
Endocrinologia e Farmacologia Molecular, de Bioquímica e Química de
Proteínas, de Virologia Molecular, Medicina Tropical, Dermatomicologia,
Parasitologia e, finalmente, de Fisiologia Pulmonar.

Além destes, temos mantidos pelos docentes e pesquisadores os
laboratórios de Nefrologia, Fisiologia Cardiovascular, de Doenças
Auto-imunes e Infecciosas, de Gastroenterologia, de Endocrinologia, de
Ginecologia, de Psico-farmacologia, de Morfologia e Histologia, de
Patologia Geral e de Doenças Auto-imunes.

Finalmente, o Programa de Pós-Graduação em Ciências Médicas tem em seu
quadro professores doutores, possui trinta e um docentes permanentes e
sete docentes colaboradores, com nenhum docente visitante.

<!-- falta colocar a contextualização -->
## Saúde Coletiva
### Informações

A pós graduação em saúde coletiva da UnB começou em 2010 e continua em vigência até hoje. Inicialmente era um programa unicamente de mestrado acadêmico e profissionalizante, hoje o programa conta também com doutorado e pós-doutorado.

Atualmente, o programa possui quatro linhas de pesquisa, essas são:

* Política, Planejamento, Gestão e Atenção à saúde - Visa integrar a análise de formulação, as im-
plementações das políticas de saúde e da organização dos sistemas e serviços de saúde para tentar
encontrar mudanças no modelo de atenção a saúde ao mesmo tempo procurando contribuir para o
desenvolvimento de estudos das práticas de gestão envolvendo a população.

* Saúde, Cultura e Cidadania - Busca procurar os motivos socioeconômicos, culturais e políticos que
causam influência no processo de saúde-doença, analisando casos históricos, sociológicos, políticos e
antropológicos para assim promover de uma forma geral a saúde e a cidadania.

* Epidemiologia, Ambiente e Trabalho - Desenvolve estudos voltados a frequência e a distribuição de
fenômenos da saúde-doença para assim auxiliar na tomada de decisão na saúde pública

* Pesquisa translacional em Saúde Coletiva - pesquisas interdisciplinares para acelerar trocas entre as
pesquisas biomédicas, tecnológicas, clínicas, epidemiológicas e dos programas e políticas de saúde para
facilitar sua implantação. É voltado para as inovações em produtos e processos.

Atualmente o programa conta com o total de 23 docentes, abrangendo tanto doutorado quanto mestrado.

# Referencial
## Ciencia da Ciência

O significado de Ciência ainda causa divergências, pode significar:
conhecimento verdadeiro por oposição ao conhecimento errado ou duvidoso;
o resultado de experiências em contraste com o que sabemos pelo senso
comum; conhecimento medido, quantificado, e não aquele que adquirimos
intuitivamente; a Verdade, com V maiúsculo em contraste com as verdades
menores; um privilégio dos sábios e iniciados, nunca acessível às
massas; um fator da produção, como o capital, o trabalho e a tecnologia;
aquilo que fazem os cientistas. Dentre tantas definições é possível
perceber que ciência é um tema bem complexo cuja definição varia de
acordo com o tempo.

Com a difusão dos meios computacionais na civilização moderna, o acesso
e a troca de informações se tornaram extremamente simples e com isso
passamos a lidar com uma quantidade de dados inimaginável até algum
tempo atrás. Com isso, vivemos em um mundo no qual a informação é cada
vez mais ubíqua, o que nos possibilita pensar em novas formas de se
entender o mundo.

Nesse contexto, com o crescente aumento da disponibilidade de dados
sobre a produção científica, ciência da ciência surgiu do esforço para
compreender o significado de ciência e poder agir sobre ele. É conhecido
como sociologia da ciência, onde trata de examinar o fenômeno científico
como um fator social, sendo a filosofia a mais antiga das ciências da
ciência. Esta surge no mundo atual com um enfoque multidisciplinar cujo
o objetivo é obter um melhor entendimento de como se dá a produção
científica em suas mais diversas formas, tornando possível avaliar de
uma forma mais direta o avanço da produção Científica e de grupos de
pesquisas.

## Lattes

O Lattes é uma plataforma do Conselho Nacional de Desenvolvimento
Científico e Tecnológico (CNPq) criada como uma forma de integrar e
uniformizar os dados dos pesquisadores brasileiros. O uso da plataforma
é bem amplo e, uma vez que a visualização é pública, o Lattes é muito
utilizado como currículo profissional online. Esse currículo surgiu em
1999, seguindo tentativas anteriores do CNPq de se padronizar o registro
dos currículos, e cresceu rapidamente, sendo hoje o principal
instrumento de avaliação de pesquisadores, professores e alunos e
utilizado pelas principais universidades, institutos e centros de
pesquisas.

Por ser um registro padronizado e uma base de dados bem ampla e
completa, além de ter as informações disponíveis atualizadas
continuamente, o Lattes é muito utilizado para pesquisa e estudos sobre
dados acadêmicos pela comunidade científica e tecnológica, sendo facil
avaliar pesquisadores, selecionar consultores e especialistas e gerar
estatísticas sobre a produção científica no país. Gerando assim
resultados interessantes na esfera social.

Assim, com o crescimento da Ciência da Ciência, é possível prever que a
Plataforma Lattes, por oferecer um sistema de informações de grande
confiabilidade e abrangência, será de extrema importância para o
desenvolvimento desse campo no país.

## Estudos de Ciência e Tecnologia

Os estudos sociais da ciência e da tecnologia, também denominados
estudos sobre ciência, tecnologia e sociedade (CTS) se dedicam a
entender a relação entre essas 3 áreas. Não se trata de uma disciplina
específica, mas de uma perspectiva ou enfoque metodológico aplicado ao
processo de ensino-aprendizagem na área de ciência e tecnologia em
geral, aplicado no processo de conhecimento técnico e científico.

Esta área emergiu por volta do século XIX, influenciado pelo problema
dos elementos geradores e decisivos na construção, sustentação e
transformação do conhecimento, onde foram primeiramente analisados pelo
ponto de vista filosófico e sociológico. Atualmente há novas pesquisar
que se diferem pelas investigações voltadas ás influencias do contexto
social na determinação do conteúdo do conhecimento científico. O
amadurecimento dos estudos sobre ciência e tecnologia é destacado pela
institucionalização de grupos de pesquisa, linhas temáticas em programas
de pós-graduação, periódicos e congressos especializados e por uma
multiplicidade de abordagens.

# Metodologia

A metodologia Cross Industry Standard Process for Data Mining (CRISP-DM)
é uma metodologia especificamente desenhada para processos de mineração
de dados que descreve abordagens comumente usadas por especialistas para
atacar problemas utilizando um processo que fosse confiável e replicável
e foi utilizada neste trabalho. As etapas estão demonstradas no Figura 1

No CRISP-DM o trabalho se dá em um ciclo de seis fases, como se observa
na figura acima, sendo elas:

## 1. Entendimento do Negócio.

Procura-se entender melhor o que precisamos analisar, buscando detalhes de como as coisas funcionam e como diversos elementos da pesquisa se relacionam. É importante, também, nesta etapa, entender bem os objetivos e as expectativas quanto ao trabalho. No caso deste projeto busca-se entender a necessidade do Sistema Nacional de Pós-Graduação do Brasil de produzir análises de alta qualidade de suas pós-graduações, com baixo custo.

Além disso, é nesta fase que são identificados os recursos e dificuldades que podem influenciar no desenvolvimento do projeto. Tendo sido identificado o tempo especificado para produzir resultados tendo outros trabalhos e outras disciplinas a serem cursadas ao mesmo tempo. Além disso tem o risco de abandono dos integrantes do grupo ou até mesmo a falta de dedicação necessária.

## 2. Coompreensão dos Dados.

Aqui procuramos entender e descrever todos os dados disponíveis. Assim, é fundamental que se tenha um bom entedimento de quais dados serão relevantes e quais não serão.

Os dados abaixos foram fornecidos pelos professores responsáveis da disciplina. Os dados foram gerados no mês de maio de 2018, e compilam informações entre os anos de 2010 e 2017. Os arquivos estão no formato JSON, e seus atributos iniciais e conteúdos são apresentados a seguir.

```{r echo=FALSE, warning=FALSE, message=FALSE}
library(dplyr)
library(readxl)
library(jsonlite)
library(readr)
library(ggplot2)
library(plyr)
library(tidyr)
library(stringr)
```

```{r}
perfisCM <- fromJSON("PPG Ciências Medicas.profile.json")
perfisPSC <- fromJSON("PPG Profissional Saúde Coletiva.profile.json")
perfisSC <- fromJSON("PPG Saúde Coletiva.profile.json")

adviseCM <- fromJSON("PPG Ciências Medicas.advise.json")
advisePSC <- fromJSON("PPG Profissional Saúde Coletiva.advise.json")
adviseSC <- fromJSON("PPG Saúde Coletiva.advise.json")

publicationCM <- fromJSON("PPG Ciências Medicas.publication.json")
publicationPSC <- fromJSON("PPG Profissional Saúde Coletiva.publication.json")
publicationSC <- fromJSON("PPG Saúde Coletiva.publication.json")

#unb.BDT <- fromJSON("unb.BDTD.json")
#unb.Oasis <- fromJSON("oasisbr_unb all.json")

DGP_Grupos <- read_excel("unb.DGP.xls", sheet = 1, skip = 2)
DGP_Pesquisa <- read_excel("unb.DGP.xls", sheet = 2)
DGP_Parcerias <- read_excel("unb.DGP.xls", sheet = 3)
DGP_Participantes <-read_excel("unb.DGP.xls", sheet = 4)
DGP_Producao <- read_excel("unb.DGP.xls", sheet = 5)

```

Tanto o arquivo "PPG Ciências Medicas.profile.json", "PPG Profissional Saúde Coletiva.profile.json" e "PPG Saúde Coletiva.profile.json" apresentam o perfil dos docentes vinculados a programas das áreas de Ciências Médicas, Saúde Coletiva Profissional e Saúde Coletiva, respectivamente.

Já os arquivos "PPG Ciências Medicas.advise.json", "PPG Profissional Saúde Coletiva.advise.json" e "PPG Saúde Coletiva.advise.json" apresentam dados sobre as orientações de mestrado e doutorado feitas por todos os docentes vinculados a programas de pós-graduação das áreas de Ciências Médicas, Saúde Coletiva Profissional e Saúde Coletiva, respectivamente.

Finalmente, os arquivos "PPG Ciências Medicas.publication.json", "PPG Profissional Saúde Coletiva.publication.json" e "PPG Saúde Coletiva.publication.json" apresentam dados sobre a produção bibliográfica gerada por todos os docentes vinculados a programas das áreas de Ciências Médicas, Saude Coletiva Profissional e Saúde Coletiva, respectivamente.

### Descrição e análise exploratória dos dados

A análise foi realizada no RStudio utilizando a linguagem, para leitura e interpretação dos dados serão usados as seguintes bibliotecas abaixo.



#### Perfis

Os arquivos "PPG Ciências Medicas.profile.json", "PPG Profissional Saúde Coletiva.profile.json" e "PPG Saúde Coletiva.profile.json" contém dados que caracterizam o perfil profissional de todos os docentes do grupo sob análise. Com isso temos o nome, as áreas de atuação, endereço profissional, as produções bibliográficas, as orientações acadêmicas e a senioridade de cada professor. Todos os três arquivos tem a mesma estrutura, diferenciando-se apenas nos docentes presentes.

```{r}
summary(perfisCM$`0056945699042193`)
summary(perfisPSC$`0153088935731412`)
summary(perfisSC$`0153088935731412`)
```

Nos arquivos, encontramos um total de 38 docentes da Ciências Médicas, 27 docentes do Profissional de Saúde Coletiva e 24 docentes de Saúde Coletiva.

```{r}
# Numero de docentes
length(perfisCM)
length(perfisPSC)
length(perfisSC)
```

Podemos notar também que temos 5 grandes áreas no programa de Ciências Médicas, 8 no de Saúde Coletiva Profissional e 9 no de Saúde Coletiva Profissional. Para áreas, temos
22, 24 e 24, respectivamente. Já para sub-áreas, temos 75, 64 e 49, respectivamente. Finalmente, para especialidades, temos 40, 21 e 21, respectivamente.

```{r warning=FALSE}
# Quantidade de areas, sub-areas e especialidades
data.frame(Reduce(rbind, perfisCM)) %>%
  unnest(areas_de_atuacao) %>%
  summarise(qts_grande_areas = n_distinct(grande_area),
            qtd_areas = n_distinct(area),
            qtd_sub_areas = n_distinct(sub_area),
            qtd_especialidades = n_distinct(especialidade))

data.frame(Reduce(rbind, perfisPSC)) %>%
  unnest(areas_de_atuacao) %>%
  summarise(qts_grande_areas = n_distinct(grande_area),
            qtd_areas = n_distinct(area),
            qtd_sub_areas = n_distinct(sub_area),
            qtd_especialidades = n_distinct(especialidade))

data.frame(Reduce(rbind, perfisSC)) %>%
  unnest(areas_de_atuacao) %>%
  summarise(qts_grande_areas = n_distinct(grande_area),
            qtd_areas = n_distinct(area),
            qtd_sub_areas = n_distinct(sub_area),
            qtd_especialidades = n_distinct(especialidade))
```

Em todos os três programas temos que ciências da saúde é a grande área de maior prevalência. Em ciências médicas, podemos ver ainda uma grande concentração na grande área de ciências biológicas.

```{r warning=FALSE}
# Quantidade de pessoas por grande area
data.frame(Reduce(rbind, perfisCM)) %>%
  unnest(areas_de_atuacao) %>%
  group_by(grande_area) %>%
  tally() %>% arrange(desc(n)) %>% na_if("")

data.frame(Reduce(rbind, perfisPSC)) %>%
  unnest(areas_de_atuacao) %>%
  group_by(grande_area) %>%
  tally() %>% arrange(desc(n)) %>% na_if("")

data.frame(Reduce(rbind, perfisSC)) %>%
  unnest(areas_de_atuacao) %>%
  group_by(grande_area) %>%
  tally() %>% arrange(desc(n)) %>% na_if("")
```

Em todos os arquivos, temos que a área de maior prevalência é a do curso principal do programa, Medicina no caso de Ciências Médicas e Saúde Coletiva nos outros dois.

```{r warning=FALSE}
# Quantidade de pessoas por area
data.frame(Reduce(rbind, perfisCM)) %>%
  unnest(areas_de_atuacao) %>%
  group_by(area) %>%
  tally() %>% arrange(desc(n)) %>% na_if("")

data.frame(Reduce(rbind, perfisPSC)) %>%
  unnest(areas_de_atuacao) %>%
  group_by(area) %>%
  tally() %>% arrange(desc(n)) %>% na_if("")

data.frame(Reduce(rbind, perfisSC)) %>%
  unnest(areas_de_atuacao) %>%
  group_by(area) %>%
  tally() %>% arrange(desc(n)) %>% na_if("")
```

Nas sub-áreas, temos que nos dois programas da Saúde Coletiva a opção mais comum é não ter sub-área, enquanto que essa opção é a segunda em Ciências Médicas, perdendo apenas para Clínica Médica. Em todos os casos, as três primeiras opções são bem mais populares do que as demais.

```{r warning=FALSE}
# Quantidade de pessoas por sub-area
data.frame(Reduce(rbind, perfisCM)) %>%
  unnest(areas_de_atuacao) %>%
  group_by(sub_area) %>%
  tally() %>% arrange(desc(n)) %>% na_if("")

data.frame(Reduce(rbind, perfisPSC)) %>%
  unnest(areas_de_atuacao) %>%
  group_by(sub_area) %>%
  tally() %>% arrange(desc(n)) %>% na_if("")

data.frame(Reduce(rbind, perfisSC)) %>%
  unnest(areas_de_atuacao) %>%
  group_by(sub_area) %>%
  tally() %>% arrange(desc(n)) %>% na_if("")
```

Para as especialidades, temos que a esmagadora maioria dos casos não possuem especialiade e que as especialidades que existem aparecem poucas vezes.

```{r warning=FALSE}
# Quantidade de pessoas por especialidades
data.frame(Reduce(rbind, perfisCM)) %>%
  unnest(areas_de_atuacao) %>%
  group_by(especialidade) %>%
  tally() %>% arrange(desc(n)) %>% na_if("")

data.frame(Reduce(rbind, perfisPSC)) %>%
  unnest(areas_de_atuacao) %>%
  group_by(especialidade) %>%
  tally() %>% arrange(desc(n)) %>% na_if("")

data.frame(Reduce(rbind, perfisSC)) %>%
  unnest(areas_de_atuacao) %>%
  group_by(especialidade) %>%
  tally() %>% arrange(desc(n)) %>% na_if("")
```

#### Orientações

```{r}
names(adviseCM)
names(advisePSC)
names(adviseSC)
```

```{r}
## adivise da base de dados de Ciências Médicas
advise <- adviseCM
andamento <- data.frame()
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_MESTRADO))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_MESTRADO[[i]])
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_DE_POS_DOUTORADO))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_DE_POS_DOUTORADO[[i]])
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_DOUTORADO))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_DOUTORADO[[i]])
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_GRADUACAO))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_GRADUACAO[[i]])
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_INICIACAO_CIENTIFICA))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_INICIACAO_CIENTIFICA[[i]])

concluido <- data.frame()
for( i in 1:length(advise$ORIENTACAO_CONCLUIDA_MESTRADO))
concluido <- rbind(concluido, advise$ORIENTACAO_CONCLUIDA_MESTRADO[[i]])
for( i in 1:length(advise$ORIENTACAO_CONCLUIDA_POS_DOUTORADO))
concluido <- rbind(concluido, advise$ORIENTACAO_CONCLUIDA_POS_DOUTORADO[[i]])
for( i in 1:length(advise$ORIENTACAO_CONCLUIDA_DOUTORADO))
concluido <- rbind(concluido, advise$ORIENTACAO_CONCLUIDA_DOUTORADO[[i]])
for( i in 1:length(advise$OUTRAS_ORIENTACOES_CONCLUIDAS))
concluido <- rbind(concluido, advise$OUTRAS_ORIENTACOES_CONCLUIDAS[[i]])

concluidoCM <- concluido
andamentoCM <- andamento

## adivise da base de dados de Saude Coletiva
advise <- adviseSC
andamento <- data.frame()
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_MESTRADO))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_MESTRADO[[i]])
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_DE_POS_DOUTORADO))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_DE_POS_DOUTORADO[[i]])
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_DOUTORADO))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_DOUTORADO[[i]])
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_GRADUACAO))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_GRADUACAO[[i]])
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_INICIACAO_CIENTIFICA))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_INICIACAO_CIENTIFICA[[i]])

concluido <- data.frame()
for( i in 1:length(advise$ORIENTACAO_CONCLUIDA_MESTRADO))
concluido <- rbind(concluido, advise$ORIENTACAO_CONCLUIDA_MESTRADO[[i]])
for( i in 1:length(advise$ORIENTACAO_CONCLUIDA_POS_DOUTORADO))
concluido <- rbind(concluido, advise$ORIENTACAO_CONCLUIDA_POS_DOUTORADO[[i]])
for( i in 1:length(advise$ORIENTACAO_CONCLUIDA_DOUTORADO))
concluido <- rbind(concluido, advise$ORIENTACAO_CONCLUIDA_DOUTORADO[[i]])
for( i in 1:length(advise$OUTRAS_ORIENTACOES_CONCLUIDAS))
concluido <- rbind(concluido, advise$OUTRAS_ORIENTACOES_CONCLUIDAS[[i]])

andamentoSC <- andamento
concluidoSC <- concluido
## adivise da base de dados de Profissional Saude Coletiva
advise <- advisePSC
andamento <- data.frame()
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_MESTRADO))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_MESTRADO[[i]])
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_DE_POS_DOUTORADO))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_DE_POS_DOUTORADO[[i]])
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_DOUTORADO))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_DOUTORADO[[i]])
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_GRADUACAO))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_GRADUACAO[[i]])
for( i in 1:length(advise$ORIENTACAO_EM_ANDAMENTO_INICIACAO_CIENTIFICA))
andamento <- rbind(andamento, advise$ORIENTACAO_EM_ANDAMENTO_INICIACAO_CIENTIFICA[[i]])

concluido <- data.frame()
for( i in 1:length(advise$ORIENTACAO_CONCLUIDA_MESTRADO))
concluido <- rbind(concluido, advise$ORIENTACAO_CONCLUIDA_MESTRADO[[i]])
for( i in 1:length(advise$ORIENTACAO_CONCLUIDA_POS_DOUTORADO))
concluido <- rbind(concluido, advise$ORIENTACAO_CONCLUIDA_POS_DOUTORADO[[i]])
for( i in 1:length(advise$ORIENTACAO_CONCLUIDA_DOUTORADO))
concluido <- rbind(concluido, advise$ORIENTACAO_CONCLUIDA_DOUTORADO[[i]])
for( i in 1:length(advise$OUTRAS_ORIENTACOES_CONCLUIDAS))
concluido <- rbind(concluido, advise$OUTRAS_ORIENTACOES_CONCLUIDAS[[i]])

andamentoPSC <- andamento
concluidoPSC <- concluido


```


Da Ciências Médicas foram encontrados 214 orientações em andamento e 873 orientações concluidas
```{r}
dim(andamentoCM)
dim(concluidoCM)
```

Da Saúde Coletiva foram encontrados 111 orientações em andamento e 737 orientações concluidas
```{r}
dim(andamentoSC)
dim(concluidoSC)
```

Da Saúde Coletiva foram encontrados 112 orientações em andamento e 682 orientações concluidas
```{r}
dim(andamentoPSC)
dim(concluidoPSC)
```


#### Publicações

As publicações são divididas em 7 tipos(periódicos, livros, capítulos de livros, jornais, eventos, artigos, demais), todos esses tipos estavam agrupados por ano. 
```{r}
names(publicationCM)
names(publicationPSC)
names(publicationSC)
```

```{r}
publication_periodicoCM <- publicationCM$PERIODICO %>% ldply(data.frame)
publication_livroCM <- publicationCM$LIVRO %>% ldply(data.frame)
publication_cap_livroCM <- publicationCM$CAPITULO_DE_LIVRO %>% ldply(data.frame)
publication_jornaisCM <- publicationCM$TEXTO_EM_JORNAIS %>% ldply(data.frame)
publication_eventoCM <- publicationCM$EVENTO %>% ldply(data.frame)
publication_artigosCM <- publicationCM$ARTIGO_ACEITO %>% ldply(data.frame)
publication_demaisCM <- publicationCM$DEMAIS_TIPOS_DE_PRODUCAO_BIBLIOGRAFICA %>% ldply(data.frame)

publication_periodicoSC <- publicationSC$PERIODICO %>% ldply(data.frame)
publication_livroSC <- publicationSC$LIVRO %>% ldply(data.frame)
publication_cap_livroSC <- publicationSC$CAPITULO_DE_LIVRO %>% ldply(data.frame)
publication_jornaisSC <- publicationSC$TEXTO_EM_JORNAIS %>% ldply(data.frame)
publication_eventoSC <- publicationSC$EVENTO %>% ldply(data.frame)
publication_artigosSC <- publicationSC$ARTIGO_ACEITO %>% ldply(data.frame)
publication_demaisSC <- publicationSC$DEMAIS_TIPOS_DE_PRODUCAO_BIBLIOGRAFICA %>% ldply(data.frame)

publication_periodicoPSC <- publicationPSC$PERIODICO %>% ldply(data.frame)
publication_livroPSC <- publicationPSC$LIVRO %>% ldply(data.frame)
publication_cap_livroPSC <- publicationPSC$CAPITULO_DE_LIVRO %>% ldply(data.frame)
publication_jornaisPSC <- publicationPSC$TEXTO_EM_JORNAIS %>% ldply(data.frame)
publication_eventoPSC <- publicationPSC$EVENTO %>% ldply(data.frame)
publication_artigosPSC <- publicationPSC$ARTIGO_ACEITO %>% ldply(data.frame)
publication_demaisPSC <- publicationPSC$DEMAIS_TIPOS_DE_PRODUCAO_BIBLIOGRAFICA %>% ldply(data.frame)

```


Entretanto, cada tipo de publicação possui dados diferentes, como é o caso dos periódicos e dos eventos, por exemplo. Os dados dos periódicos são os seguintes:

```{r}
names(publication_periodicoCM)
names(publication_periodicoPSC)
names(publication_periodicoSC)
```

Já os dados dos eventos são os seguintes:
```{r}
names(publication_eventoCM)
names(publication_eventoPSC)
names(publication_eventoSC)
```

Também é interesante reparar na quantidade de publicações cada programa possui.

Para o programa de Ciencias Medicas temos:

```{r}

nrow(publication_periodicoCM) 
nrow(publication_livroCM)
nrow(publication_cap_livroCM)
nrow(publication_jornaisCM)
nrow(publication_eventoCM)
nrow(publication_artigosCM)
nrow(publication_demaisCM)

```

Para o programa de Saude coletiva temos:
```{r}

nrow(publication_periodicoSC) 
nrow(publication_livroSC)
nrow(publication_cap_livroSC)
nrow(publication_jornaisSC)
nrow(publication_eventoSC)
nrow(publication_artigosSC)
nrow(publication_demaisSC)

```
Para o programa de Saude coletiva Proficional temos:

```{r}

nrow(publication_periodicoPSC) 
nrow(publication_livroPSC)
nrow(publication_cap_livroPSC)
nrow(publication_jornaisPSC)
nrow(publication_eventoPSC)
nrow(publication_artigosPSC)
nrow(publication_demaisPSC)

```


## 3. Preparação dos Dados. 
Uma vez que exista um bom entendimento dos dados, precisamos preparar esses dados para a análise, definindo em qual formato esses dados serão mais úteis, bem como escolhendo quais dados são relevantes para a análise. Nesta etapa é preciso selecionar e escolher os atributos dos dados que serão trabalhados. Tendo sido selecionado as base de dados BDTD, DGP e Oasis para complementar os dados obtidos do Lattes sobre Saude Coletiva. Sendo sido realizado a integração dessas bases, fazendo merges e aggregations com as funções inner_join(), rbind().

Na base de dados do DGP existem informações sobre as linhas de pesquisa, as parcerias, os participantes, os numeros de participação e grupos de pesquisa.
```{r}
excel_sheets("unb.DGP.xls")
```

Para a análise detalhada foram utilizadas as tabelas de participantes e de pesquisa e colocadas em uma única tabela contendo os principais dados de todas estas. Alem disso como as tabelas de pesquisas de andamento e concluido estavam separadas, foi utilizado um rbind para uní-las, colocando todas as informações importantes juntas.
```{r}
Participantes_concluidoCM <- inner_join(DGP_Participantes, concluidoCM, by = c("Nome Participante" = "nome_aluno"))
Participantes_andamentoCM <- inner_join(DGP_Participantes, andamentoCM, by = c("Nome Participante" = "nome_aluno"))
pesquisa_andamentoCM <- inner_join(Participantes_andamentoCM, DGP_Pesquisa, by = "Token Grupo Pesquisa")
pesquisa_concluidaCM <- inner_join(Participantes_andamentoCM, DGP_Pesquisa, by = "Token Grupo Pesquisa")
pesquisaCM <- rbind(pesquisa_andamentoCM, pesquisa_concluidaCM)

# dados da Saúde Coletiva

Participantes_concluidoSC <- inner_join(DGP_Participantes, concluidoSC, by = c("Nome Participante" = "nome_aluno"))
Participantes_andamentoSC <- inner_join(DGP_Participantes, andamentoSC, by = c("Nome Participante" = "nome_aluno"))
pesquisa_andamentoSC <- inner_join(Participantes_andamentoSC, DGP_Pesquisa, by = "Token Grupo Pesquisa")
pesquisa_concluidaSC <- inner_join(Participantes_andamentoSC, DGP_Pesquisa, by = "Token Grupo Pesquisa")
pesquisaSC <- rbind(pesquisa_andamentoSC, pesquisa_concluidaSC)

# dados profissional Saúde COletiva
Participantes_concluidoPSC <- inner_join(DGP_Participantes, concluidoPSC, by = c("Nome Participante" = "nome_aluno"))
Participantes_andamentoPSC <- inner_join(DGP_Participantes, andamentoPSC, by = c("Nome Participante" = "nome_aluno"))
pesquisa_andamentoPSC <- inner_join(Participantes_andamentoPSC, DGP_Pesquisa, by = "Token Grupo Pesquisa")
pesquisa_concluidaPSC <- inner_join(Participantes_andamentoPSC, DGP_Pesquisa, by = "Token Grupo Pesquisa")
pesquisaPSC <- rbind(pesquisa_andamentoPSC, pesquisa_concluidaPSC)

```



<!-- Colocar merge com a tabela excel_sheets -->

Para uma futura junção entre as bases do Lattes com as outras foi criada uma tabela de cada uma das bases de dados contendo o nome e o id lattes dos professores

```{r warning=FALSE}
# dados de Ciências Médicas
perfis_tblCM <- data.frame(Reduce(rbind, perfisCM)) #carega lista de perfis
idsCM <- names(perfisCM) # carrega os ids do lattes de cada professor
nomes_id_tblCM <- perfis_tblCM%>%mutate(ids = idsCM) %>%
select(name = nome, id_lates = ids) %>% as_tibble() # junta o nome e id

# dados de Saúde Coletiva
perfis_tblSC <- data.frame(Reduce(rbind, perfisSC)) #carega lista de perfis
idsSC <- names(perfisSC) # carrega os ids do lattes de cada professor
nomes_id_tblSC <- perfis_tblSC%>%mutate(ids = idsSC) %>%
select(name = nome, id_lates = ids) %>% as_tibble() # junta o nome e id

# dados de Profissional de Saúde Coletiva
perfis_tblPSC <- data.frame(Reduce(rbind, perfisPSC)) #carega lista de perfis
idsPSC <- names(perfisPSC) # carrega os ids do lattes de cada professor
nomes_id_tblPSC <- perfis_tblPSC%>%mutate(ids = idsPSC) %>%
select(name = nome, id_lates = ids) %>% as_tibble() # junta o nome e id
```


Em seguida, nos dados do DGP, foi aplicado um filtro para trabalharmos somente com os valores mais recentes, isso é, o do ano de 2016 
```{r}
DGP_Producao <- DGP_Producao %>% 
filter(`Ano Censo` == 2016) %>%
select(-`Ano Censo`)

DGP_Grupos <- DGP_Grupos %>% 
filter(`Ano Censo` == 2016)%>%
select(-`Ano Censo`)

DGP_Participantes <- DGP_Participantes %>% 
filter(`Ano Censo` == 2016) %>%
select(-`Ano Censo`)

DGP_Parcerias <- DGP_Parcerias %>% 
filter(`Ano Censo` == 2016)%>%
select(-`Ano Censo`)

DGP_Pesquisa <- DGP_Pesquisa %>% 
filter(`Ano Censo` == 2016) %>%
select(-`Ano Censo`)
```




Com o filtro de ano aplicado podemos agora juntar os dados dos grupos de pesquisas, que estão armazenados em DGP_Grupos, com os outros, assim, aplicamos um left join com as produçoes, parcerias e com os participantes.

```{r}
DGP_Producao_Grupos <- inner_join( DGP_Producao, DGP_Grupos,
by = "Token Grupo Pesquisa")

DGP_Parcerias_Grupos <- inner_join( DGP_Parcerias, DGP_Grupos,
by = "Token Grupo Pesquisa")

DGP_Participantes_Grupos <- inner_join( DGP_Participantes, DGP_Grupos,
by = "Token Grupo Pesquisa")

```


## 4. Modelagem.

Nesta fase são selecionadas e aplicadas as técnicas de mineração de dados mais apropriadas, dependendo dos objetivos identificados na primeira fase. Ou seja, foi realizada a escolha, contrução e execução do modelo de modelagem utilizado. Assim, foi aplicado um filtro para trabalharmos somente com os grupos de pesquisa que possuiem professores dos programas de pos graduação de Saude coletiva e Ciencias Medicas.


Na análise do numero de pesquisas as tabelas geradas na fase de preparação de dados foi utilizada, agrupada de acordo com as linhas de pesquisa
```{r}
linhas_pequisa_quantCM <- pesquisaCM %>%
  group_by(TXT_TITULO_LINHA_PESQUISA)

linhas_pequisa_quantCM <- count(linhas_pequisa_quantCM$TXT_TITULO_LINHA_PESQUISA)
linhas_pequisa_quantCM <- linhas_pequisa_quantCM[rev(order(linhas_pequisa_quantCM$freq)), ]
head(linhas_pequisa_quantCM)
```

```{r}
linhas_pequisa_quantSC <- pesquisaSC %>%
  group_by(TXT_TITULO_LINHA_PESQUISA)

linhas_pequisa_quantSC <- count(linhas_pequisa_quantSC$TXT_TITULO_LINHA_PESQUISA)
linhas_pequisa_quantSC <- linhas_pequisa_quantSC[rev(order(linhas_pequisa_quantSC$freq)), ]
head(linhas_pequisa_quantSC)
```

```{r}
linhas_pequisa_quantPSC <- pesquisaPSC %>%
  group_by(TXT_TITULO_LINHA_PESQUISA)

linhas_pequisa_quantPSC <- count(linhas_pequisa_quantPSC$TXT_TITULO_LINHA_PESQUISA)
linhas_pequisa_quantPSC <- linhas_pequisa_quantPSC[rev(order(linhas_pequisa_quantPSC$freq)), ]
head(linhas_pequisa_quantPSC)
```





Alem de agrupar a linha de pesquisa também foi aplicado um filtro para so trabalharmos com os frupos de pesquisa que os professores participam. Para isso foi armazenado o token de pesquisa de cada professor:

```{r}
token_profCM <-DGP_Participantes %>%
filter(is.element(`Nome Participante`, nomes_id_tblCM$name)) %>%
select(`Token Grupo Pesquisa`)

token_profSC <-DGP_Participantes %>%
filter(is.element(`Nome Participante`, nomes_id_tblSC$name)) %>%
select(`Token Grupo Pesquisa`)

token_profPSC <-DGP_Participantes %>%
filter(is.element(`Nome Participante`, nomes_id_tblPSC$name)) %>%
select(`Token Grupo Pesquisa`)
```

Em seguida, foram selecionado os grupos em que os professores trabalharam e agrupados pelo nome do grupo de pesquisa

```{r}
prof_producaoCM <- DGP_Producao_Grupos %>% 
filter(is.element(`Token Grupo Pesquisa`,token_profCM$`Token Grupo Pesquisa`)) %>%
group_by(`Nome Grupo Pesquisa`)
  
prof_producaoSC <- DGP_Producao_Grupos %>% 
filter(is.element(`Token Grupo Pesquisa`,token_profSC$`Token Grupo Pesquisa`)) %>%
group_by(`Nome Grupo Pesquisa`)

prof_producaoPSC <- DGP_Producao_Grupos %>% 
filter(is.element(`Token Grupo Pesquisa`,token_profPSC$`Token Grupo Pesquisa`)) %>%
group_by(`Nome Grupo Pesquisa`)

prof_parceriasCM <- DGP_Parcerias_Grupos %>% 
filter(is.element(`Token Grupo Pesquisa`,token_profCM$`Token Grupo Pesquisa`)) %>%
group_by(`Nome Grupo Pesquisa`)

prof_parceriasSC <- DGP_Parcerias_Grupos %>% 
filter(is.element(`Token Grupo Pesquisa`,token_profSC$`Token Grupo Pesquisa`)) %>%
group_by(`Nome Grupo Pesquisa`)

prof_parceriasPSC <- DGP_Parcerias_Grupos %>% 
filter(is.element(`Token Grupo Pesquisa`,token_profPSC$`Token Grupo Pesquisa`)) %>%
group_by(`Nome Grupo Pesquisa`)

```



## 5. Avaliação.

A quinta fase pede o acompanhamento dos resultados objetivos e a avaliação da aplicabilidade confiável dos insights e conhecimentos obtidos. Ocorrendo um processo de revisão e definição para os proximos passos, verificando se existem questões relacionadas à organização que não foram suficientemente abordadas. Deve-se refletir se o uso repetido do modelo criado pode trazer algum “efeito colateral” para a organização.

## 6. Implantação.

Finalmente, aplicamos o conhecimento obtido dos resultados do processo nas tomadas de decisão. Ou seja, se realiza o planejamento de implantação dos produtos desenvolvidos (scripts, no caso do executado nesta disciplina) para o ambiente operacional, para seu uso repetitivo, envolvendo atividades de monitoramento e manutenção do sistema (script) desenvolvido. A fase de implantação se da como concluida com a produção e apresentação do relatório final com os resultados do projeto.


Com os dados prontos para serem analisados podemos começar a mostrar os dados


```{r warning=FALSE, out.width = '60%'}
data.frame(Reduce(rbind, perfisCM)) %>%
unnest(areas_de_atuacao) %>%
group_by(area, sub_area, especialidade) %>%
dplyr::summarise(qtd = n()) %>%
filter(sub_area %in% c("Clínica Médica", "Cirurgia")) %>%
na_if("") %>%
arrange(desc(qtd)) %>%
ggplot(aes(reorder(especialidade, qtd, fill = area), qtd))+
geom_bar(stat = "identity")+
coord_flip()+
facet_grid(sub_area~., scales = "free")+
labs(title ="Especialidades em Cirurgia e Clínica Médica",
x = "Especialidade", y = "Qtd de professores")
```


```{r warning=FALSE, out.width = '60%'}
data.frame(Reduce(rbind, perfisPSC)) %>%
unnest(areas_de_atuacao) %>%
group_by(area, sub_area, especialidade) %>%
dplyr::summarise(qtd = n()) %>%
filter(sub_area %in% c("Saúde Pública", "Epidemiologia")) %>%
na_if("") %>%
arrange(desc(qtd)) %>%
ggplot(aes(reorder(especialidade, qtd, fill = area), qtd))+
geom_bar(stat = "identity")+
coord_flip()+
facet_grid(sub_area~., scales = "free")+
labs(title ="Especialidades em Cirurgia e Clínica Médica",
x = "Especialidade", y = "Qtd de professores")
```

```{r warning=FALSE, out.width = '60%'}

data.frame(Reduce(rbind, perfisSC)) %>%
unnest(areas_de_atuacao) %>%
group_by(area, sub_area, especialidade) %>%
dplyr::summarise(qtd = n()) %>%
filter(sub_area %in% c("Saúde Pública", "Epidemiologia")) %>%
na_if("") %>%
arrange(desc(qtd)) %>%
ggplot(aes(reorder(especialidade, qtd, fill = area), qtd))+
geom_bar(stat = "identity")+
coord_flip()+
facet_grid(sub_area~., scales = "free")+
labs(title ="Especialidades em Cirurgia e Clínica Médica",
x = "Especialidade", y = "Qtd de professores")
```

proporçao orientadores e alunos

```{r warning=FALSE, out.width = '60%'}
nome_orientadores <- sapply(concluidoCM$nome_orientadores, function(x)x)
orientadores <- list()
for( i in 1:length(nome_orientadores))
orientadores <- rbind(orientadores, nome_orientadores[i])
nome_orientadores <- sapply(andamentoCM$nome_orientadores, function(x)x)
for( i in 1:length(nome_orientadores))
orientadores <- rbind(orientadores, nome_orientadores[i])
length(unique(orientadores))
alunos <- list()
for( i in 1:length(concluidoCM$nome_aluno))
alunos <- rbind(alunos, concluidoCM$nome_aluno[i])
for( i in 1:length(andamentoCM$nome_aluno))
alunos <- rbind(alunos, andamentoCM$nome_aluno[i])
length(unique(alunos))
total <- data.frame(tipo = c("alunos", "orientadores"), valores= c( length(unique(alunos)),
length(unique(orientadores))))
ggplot(total, aes(x = "", y=valores, fill = tipo)) + geom_col() + coord_polar(theta = "y")
```



```{r warning=FALSE, out.width = '60%'}
nome_orientadores <- sapply(concluidoSC$nome_orientadores, function(x)x)
orientadores <- list()
for( i in 1:length(nome_orientadores))
orientadores <- rbind(orientadores, nome_orientadores[i])
nome_orientadores <- sapply(andamentoSC$nome_orientadores, function(x)x)
for( i in 1:length(nome_orientadores))
orientadores <- rbind(orientadores, nome_orientadores[i])
length(unique(orientadores))
alunos <- list()
for( i in 1:length(concluidoSC$nome_aluno))
alunos <- rbind(alunos, concluidoSC$nome_aluno[i])
for( i in 1:length(andamentoSC$nome_aluno))
alunos <- rbind(alunos, andamentoSC$nome_aluno[i])
length(unique(alunos))
total <- data.frame(tipo = c("alunos", "orientadores"), valores= c( length(unique(alunos)),
length(unique(orientadores))))
ggplot(total, aes(x = "", y=valores, fill = tipo)) + geom_col() + coord_polar(theta = "y")
```


```{r warning=FALSE, out.width = '60%'}
nome_orientadores <- sapply(concluidoPSC$nome_orientadores, function(x)x)
orientadores <- list()
for( i in 1:length(nome_orientadores))
orientadores <- rbind(orientadores, nome_orientadores[i])
nome_orientadores <- sapply(andamentoPSC$nome_orientadores, function(x)x)
for( i in 1:length(nome_orientadores))
orientadores <- rbind(orientadores, nome_orientadores[i])
length(unique(orientadores))
alunos <- list()
for( i in 1:length(concluidoPSC$nome_aluno))
alunos <- rbind(alunos, concluidoPSC$nome_aluno[i])
for( i in 1:length(andamentoPSC$nome_aluno))
alunos <- rbind(alunos, andamentoPSC$nome_aluno[i])
length(unique(alunos))
total <- data.frame(tipo = c("alunos", "orientadores"), valores= c( length(unique(alunos)),
length(unique(orientadores))))
ggplot(total, aes(x = "", y=valores, fill = tipo)) + geom_col() + coord_polar(theta = "y")
```


```{r warning=FALSE, out.width = '60%'}
publication_quant <- publication_periodicoCM %>% group_by(ano) %>% dplyr::summarise(quantidade = n())
ggplot(publication_quant, aes(x = ano, y = quantidade, group = 1))+
geom_line() +
geom_point() +
scale_y_continuous(breaks = pretty(publication_quant$quantidade, n = 20)) +
labs(x = "ano", y= "publicações")+
ggtitle("Quantidade de periodicos por ano Ciencias Medicas")
```

```{r warning=FALSE, out.width = '60%'}
publication_quant <- publication_periodicoSC %>% group_by(ano) %>% dplyr::summarise(quantidade = n())
ggplot(publication_quant, aes(x = ano, y = quantidade, group = 1))+
geom_line() +
geom_point() +
scale_y_continuous(breaks = pretty(publication_quant$quantidade, n =20)) +
labs(x = "ano", y= "publicações")+
ggtitle("Quantidade de periodicos por ano Saude Coletiva")
```


```{r warning=FALSE, out.width = '60%'}
publication_quant <- publication_periodicoPSC %>% group_by(ano) %>% dplyr::summarise(quantidade = n())
ggplot(publication_quant, aes(x = ano, y = quantidade, group = 1))+
geom_line() +
geom_point() +
scale_y_continuous(breaks = pretty(publication_quant$quantidade, n =20)) +
labs(x = "ano", y= "publicações")+
ggtitle("Quantidade de periodicos por ano Saude Coletiva Proficional")
```

```{r warning=FALSE, out.width = '60%'}
ggplot(publication_eventoCM, aes(x = classificacao)) +
geom_histogram(stat = "count", fill = "#ff9999") +
labs(x = "classificação do evento", y= "Quantidade de publicações") +
ggtitle("Quantidade de publicaçoes por tipo de evento Ciencias Medicas")
```


```{r warning=FALSE, out.width = '60%'}
ggplot(publication_eventoSC, aes(x = classificacao)) +
geom_histogram(stat = "count", fill = "#ff9999") +
labs(x = "classificação do evento", y= "Quantidade de publicações") +
ggtitle("Quantidade de publicaçoes por tipo de evento Saude Coletiva")
```

```{r warning=FALSE, out.width = '60%'}
ggplot(publication_eventoPSC, aes(x = classificacao)) +
geom_histogram(stat = "count", fill = "#ff9999") +
labs(x = "classificação do evento", y= "Quantidade de publicações") +
ggtitle("Quantidade de publicaçoes por tipo de evento Saude Coletiva Proficional")
```


Quanto aos dados de grupo de pesquia, podemos analisar a quantidade de publicaçoes por grupo:
No caso dos professores de Ciencias Médicas temos:
```{r}
x <- prof_producaoCM %>% mutate(soma_total = rowSums(.[2:9])) %>%
group_by(`Nome Grupo Pesquisa`) %>%dplyr::summarise( `quantidade de publicações` = sum(soma_total)) %>%
arrange(desc(`quantidade de publicações`))

print(x, n=nrow(x))
```
No caso dos professores de Saúde Coletiva temos:
```{r}
x <- prof_producaoSC %>% mutate(soma_total = rowSums(.[2:9])) %>%
group_by(`Nome Grupo Pesquisa`) %>%dplyr::summarise( `quantidade de publicações` = sum(soma_total)) %>%
arrange(desc(`quantidade de publicações`))

print(x, n=nrow(x))
```

No caso dos professores de Saúde Coletiva proficional temos:
```{r}
x <- prof_producaoPSC %>% mutate(soma_total = rowSums(.[2:9])) %>%
group_by(`Nome Grupo Pesquisa`) %>%dplyr::summarise( `quantidade de publicações` = sum(soma_total)) %>%
arrange(desc(`quantidade de publicações`))

print(x, n=nrow(x))
```


Alem da quantidade de publicações, tamebm podemos ver as parcerias dos professores

```{r}
prof_parceriasCM %>% group_by(`Nome Grupo Pesquisa`) %>% dplyr::summarise(N = n()) %>%
arrange(desc(N))
```

```{r}
prof_parceriasSC %>% group_by(`Nome Grupo Pesquisa`) %>% dplyr::summarise(N = n()) %>%
arrange(desc(N))
```

```{r}
prof_parceriasPSC %>% group_by(`Nome Grupo Pesquisa`) %>% dplyr::summarise(N = n()) %>%
arrange(desc(N))
```
